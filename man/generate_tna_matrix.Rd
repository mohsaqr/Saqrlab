% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generate_tna_networks.R
\name{generate_tna_matrix}
\alias{generate_tna_matrix}
\title{Generate TNA Transition Matrix with Node Groupings}
\usage{
generate_tna_matrix(
  nodes_per_group = 5,
  group_names = NULL,
  n_groups = 3,
  edge_prob_range = c(0, 0.3),
  self_loops = FALSE,
  use_learning_states = TRUE,
  learning_categories = NULL,
  node_prefix = "N",
  seed = NULL,
  verbose = TRUE
)
}
\arguments{
\item{nodes_per_group}{Integer or integer vector. Number of nodes per group.
Accepts: single integer (same for all), vector matching n_groups,
or range like \code{4:7} (random per group). Default: 5.}

\item{group_names}{Character vector. Names for each group (e.g.,
\code{c("Teacher", "Student", "System")} or \code{c("Macro", "Meso", "Micro")}).
If NULL, generates default names. Default: NULL.}

\item{n_groups}{Integer. Number of groups. Only used if \code{group_names} is NULL
and \code{nodes_per_group} is a single integer. Default: 3.}

\item{edge_prob_range}{Numeric vector of length 2. Range for edge weights
\code{c(min, max)}. Default: c(0, 0.3).}

\item{self_loops}{Logical. Allow self-loops (diagonal elements). Default: FALSE.}

\item{use_learning_states}{Logical. Use learning state verbs as node names.
Default: TRUE.}

\item{learning_categories}{Character vector or NULL. Categories for node names.
If NULL with \code{use_learning_states = TRUE}, uses one random category per group.
Can be single (same for all) or one per group. Default: NULL.}

\item{node_prefix}{Character. Prefix for node names when not using learning
states. Default: "N".}

\item{seed}{Integer or NULL. Random seed. Default: NULL.}

\item{verbose}{Logical. Print progress messages. Default: TRUE.}
}
\value{
A list with two elements:
\describe{
\item{matrix}{Square transition matrix with named rows/columns}
\item{node_types}{Named list mapping group names to node names.
Use as \code{node_types} for \code{plot_htna()} or as \code{layers} for \code{plot_mlna()}.}
}
}
\description{
Generate a transition matrix with node groupings, compatible with
\code{tna::plot_htna()} (hierarchical) and \code{tna::plot_mlna()} (multilevel)
visualizations.
}
\details{
This function generates a random transition matrix and node groupings.
The output can be used with both hierarchical and multilevel TNA plots:

\itemize{
\item For \code{plot_htna()}: use \code{net$node_types} directly
\item For \code{plot_mlna()}: use \code{layers = net$node_types}
}
}
\examples{
\dontrun{
# Basic: 3 groups, 5 nodes each
net <- generate_tna_matrix(nodes_per_group = 5, n_groups = 3, seed = 42)

# Use with plot_htna
plot_htna(net$matrix, net$node_types, layout = "polygon")
plot_htna(net$matrix, net$node_types, layout = "circular")

# Use with plot_mlna (layers = node_types)
plot_mlna(net$matrix, layers = net$node_types, layout = "spring")

# Custom group names
net <- generate_tna_matrix(
  nodes_per_group = c(5, 5, 5),
  group_names = c("Teacher", "Student", "System"),
  seed = 42
)

# For multilevel with layer names
net <- generate_tna_matrix(
  nodes_per_group = 7,
  group_names = c("Macro", "Meso", "Micro"),
  learning_categories = c("metacognitive", "cognitive", "behavioral"),
  seed = 123
)
plot_mlna(net$matrix, layers = net$node_types, minimum = 0.18)

# 4 groups for rectangle layout
net <- generate_tna_matrix(
  nodes_per_group = c(3, 2, 3, 3),
  group_names = c("Input", "Process", "Output", "Storage"),
  seed = 456
)
plot_htna(net$matrix, net$node_types)  # Auto-detects rectangle

# Variable group sizes with range
net <- generate_tna_matrix(nodes_per_group = 4:8, n_groups = 3, seed = 789)
}

}
\seealso{
\code{\link{generate_tna_networks}} for TNA model objects,
\code{\link{generate_group_tna_networks}} for group TNA models.
}
