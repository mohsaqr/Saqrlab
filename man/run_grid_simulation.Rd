% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_grid_simulation.R
\name{run_grid_simulation}
\alias{run_grid_simulation}
\title{Run Grid Search Over Simulation Parameters}
\usage{
run_grid_simulation(
  Model,
  stable_transitions,
  num_runs,
  num_rows_vec,
  max_seq_length_vec,
  na_range_list,
  stability_prob = 0.95,
  unstable_mode = "random_jump",
  unstable_random_transition_prob = 0.5,
  unstable_perturb_noise = 0.5,
  unlikely_prob_threshold = 0.1,
  include_na = TRUE,
  consistency_range = c(0.75, 1.25),
  level = 0.05,
  num_cores = parallel::detectCores() - 1
)
}
\arguments{
\item{Model}{A TNA model object with \code{weights} (transition matrix) and
\code{inits} (initial probabilities).}

\item{stable_transitions}{List of character vectors defining ground truth
stable transitions.}

\item{num_runs}{Integer. Number of bootstrap runs per parameter combination.}

\item{num_rows_vec}{Numeric vector. Values of num_rows to test.}

\item{max_seq_length_vec}{Numeric vector. Values of max_seq_length to test.}

\item{na_range_list}{List of lists. Each inner list has \code{min} and \code{max}
elements defining an NA range to test.}

\item{stability_prob}{Numeric. Fixed stability probability. Default: 0.95.}

\item{unstable_mode}{Character. Fixed unstable mode. Default: "random_jump".}

\item{unstable_random_transition_prob}{Numeric. Fixed unstable probability.
Default: 0.5.}

\item{unstable_perturb_noise}{Numeric. Fixed perturbation noise. Default: 0.5.}

\item{unlikely_prob_threshold}{Numeric. Fixed unlikely threshold. Default: 0.1.}

\item{include_na}{Logical. Whether to include NAs. Default: TRUE.}

\item{consistency_range}{Numeric vector of length 2. Bootstrap consistency
range. Default: c(0.75, 1.25).}

\item{level}{Numeric. Significance level. Default: 0.05.}

\item{num_cores}{Integer. Number of cores for parallel processing.
Default: detectCores() - 1.}
}
\value{
A named list where each element corresponds to a parameter combination.
Names follow the pattern \verb{nr<num_rows>_sl<seq_length>_na<min>-<max>}.
Each element contains:
\describe{
\item{aggregated_summary}{Aggregated performance and edge significance.}
\item{individual_runs}{Per-run details.}
\item{successful_runs}{Number of successful runs.}
\item{parameters}{The parameter values used for this combination.}
}
}
\description{
Execute bootstrap simulations across a grid of parameter combinations.
Useful for studying how different settings affect edge recovery performance.
}
\details{
The function creates a full factorial grid from:
\itemize{
\item \code{num_rows_vec} x \code{max_seq_length_vec} x \code{na_range_list}
}

For each combination, it runs \code{run_bootstrap_simulation()} and stores
the results along with the parameter values used.

Progress messages are printed to track execution.
}
\examples{
\dontrun{
# Create a model
trans_mat <- matrix(c(
  0.6, 0.3, 0.1,
  0.2, 0.6, 0.2,
  0.1, 0.2, 0.7
), nrow = 3, byrow = TRUE)
rownames(trans_mat) <- colnames(trans_mat) <- c("A", "B", "C")

Model <- list(
  weights = trans_mat,
  inits = c(A = 0.33, B = 0.34, C = 0.33)
)

stable <- list(c("A", "B"), c("B", "C"))

# Run grid search
grid_results <- run_grid_simulation(
  Model = Model,
  stable_transitions = stable,
  num_runs = 20,
  num_rows_vec = c(50, 100, 200),
  max_seq_length_vec = c(20, 30, 50),
  na_range_list = list(
    list(min = 0, max = 0),
    list(min = 0, max = 5),
    list(min = 5, max = 10)
  ),
  num_cores = 4
)

# Analyze results
analyze_grid_results(grid_results)
}

}
