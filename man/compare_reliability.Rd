% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compare_reliability.R
\name{compare_reliability}
\alias{compare_reliability}
\title{Compare Reliability Across Data Conditions}
\usage{
compare_reliability(
  n_simulations = 1000,
  n_sequences = c(50, 500),
  seq_length = c(10, 50),
  n_states = 6,
  alpha = 1,
  diag_c = 0,
  na_range = c(0, 5),
  model_type = "tna",
  reliability_iter = 100,
  reliability_split = 0.5,
  scaling = "none",
  seed = NULL,
  verbose = TRUE,
  parallel = FALSE,
  cores = parallel::detectCores() - 1
)
}
\arguments{
\item{n_simulations}{Integer. Number of simulations to run. Default: 1000.}

\item{n_sequences}{Integer or integer vector of length 2. Number of
sequences per simulation. If length 2, each simulation samples a random
integer in that range. Default: c(50, 500).}

\item{seq_length}{Integer or integer vector of length 2. Sequence length.
If length 2, each simulation samples a random integer in that range.
Default: c(10, 50).}

\item{n_states}{Integer or integer vector of length 2. Number of states.
If length 2, each simulation samples a random integer in that range.
Default: 6.}

\item{alpha}{Numeric or numeric vector of length 2. Dirichlet concentration
parameter for \code{\link[=generate_probabilities]{generate_probabilities()}}. If length 2, each simulation
samples a random value from \code{runif(1, alpha[1], alpha[2])}.
Small values (e.g., 0.1) produce sparse transition matrices; large values
(e.g., 10) produce near-uniform matrices. Default: 1.}

\item{diag_c}{Numeric or numeric vector of length 2. Diagonal boost for
\code{\link[=generate_probabilities]{generate_probabilities()}}. If length 2, each simulation samples a random
value from \code{runif(1, diag_c[1], diag_c[2])}. Higher values create
"sticky" states with strong self-transitions. Default: 0.}

\item{na_range}{Integer vector of length 2. Range of NAs per sequence.
Default: c(0, 5).}

\item{model_type}{Character. Which model to fit. Default: "tna".}

\item{reliability_iter}{Integer. Number of iterations for
\code{tna::reliability()}. Default: 100.}

\item{reliability_split}{Numeric. Split proportion for
\code{tna::reliability()}. Default: 0.5.}

\item{scaling}{Character. Scaling for \code{tna::reliability()}.
Default: "none".}

\item{seed}{Integer or NULL. Random seed. Default: NULL.}

\item{verbose}{Logical. Print progress. Default: TRUE.}

\item{parallel}{Logical. Use parallel processing. Default: FALSE.}

\item{cores}{Integer. Number of cores for parallel. Default:
detectCores() - 1.}
}
\value{
A list of class \code{"tna_reliability_comparison"} containing:
\describe{
\item{raw_results}{Data frame with all simulation results (one row per
metric per simulation, with parameter columns).}
\item{summary}{Data frame with mean/sd aggregated across simulations
grouped by metric.}
\item{params}{List of input parameters for reference.}
}
}
\description{
Run multiple simulations assessing split-half reliability under varying
data conditions (number of sequences, sequence length, number of states).
Uses \code{tna::reliability()} for each simulation with randomly sampled
parameters from user-specified ranges.
}
\details{
For each simulation:
\enumerate{
\item Randomly sample \code{n_sequences}, \code{seq_length}, \code{n_states} from
user-specified ranges.
\item Generate ground truth via \code{generate_probabilities()}.
\item Simulate sequences via \code{simulate_sequences()} with those
parameters and NAs.
\item Fit a TNA model (e.g., \code{tna::tna(sequences)}).
\item Run \code{tna::reliability()} on the fitted model.
\item Extract the \verb{$summary} table (22 metrics with
mean/sd/median/min/max/q25/q75).
\item Append simulation parameters as columns.
}
}
\examples{
\dontrun{
# Quick test
res <- compare_reliability(
  n_simulations = 10,
  reliability_iter = 20,
  seed = 42
)
print(res)

# Vary number of states too
res <- compare_reliability(
  n_simulations = 100,
  n_states = c(3, 8),
  reliability_iter = 50,
  seed = 42
)
plot(res)

# Parallel execution
res <- compare_reliability(
  n_simulations = 500,
  parallel = TRUE,
  seed = 42
)
}

}
